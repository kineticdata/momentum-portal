{
  "builderVersion": "",
  "schemaVersion": "1.0",
  "version": "",
  "processOwnerEmail": "",
  "lastId": 2,
  "name": "User Creation Workflow",
  "notes": "",
  "connectors": [
    {
      "from": "start",
      "to": "system_integration_v1_1",
      "label": "",
      "value": "",
      "type": "Complete"
    },
    {
      "from": "system_integration_v1_1",
      "to": "utilities_echo_v1_2",
      "label": "",
      "value": "",
      "type": "Complete"
    }
  ],
  "nodes": [
    {
      "configured": true,
      "defers": false,
      "deferrable": false,
      "visible": false,
      "name": "Start",
      "messages": [],
      "dependents": {
        "task": [
          {
            "label": "",
            "type": "Complete",
            "value": "",
            "content": "system_integration_v1_1"
          }
        ]
      },
      "id": "start",
      "position": {
        "x": 10,
        "y": 10
      },
      "version": 1,
      "parameters": [],
      "definitionId": "system_start_v1"
    },
    {
      "configured": true,
      "defers": false,
      "deferrable": false,
      "visible": true,
      "name": "Create User",
      "messages": [],
      "dependents": {
        "task": [
          {
            "label": "",
            "type": "Complete",
            "value": "",
            "content": "utilities_echo_v1_2"
          }
        ]
      },
      "id": "system_integration_v1_1",
      "position": {
        "x": 198,
        "y": 15
      },
      "version": 1,
      "parameters": [
        {
          "dependsOnId": "",
          "dependsOnValue": "",
          "description": "Connection ID",
          "id": "connection",
          "label": "Connection ID",
          "menu": "",
          "value": "aed6351e-d72c-47c7-8428-7f726dc66cc6",
          "required": true
        },
        {
          "dependsOnId": "",
          "dependsOnValue": "",
          "description": "Operation ID",
          "id": "operation",
          "label": "Operation ID",
          "menu": "",
          "value": "d32ea89d-42e1-46ca-b884-bf29f95ab19e",
          "required": true
        },
        {
          "dependsOnId": "",
          "dependsOnValue": "",
          "description": "",
          "id": "parameters.displayName",
          "label": "displayName",
          "menu": "",
          "value": "<%=\n  @values['User Display Name']\n%>",
          "required": false
        },
        {
          "dependsOnId": "",
          "dependsOnValue": "",
          "description": "",
          "id": "parameters.email",
          "label": "email",
          "menu": "",
          "value": "<%=\n  @values['User Email']\n%>",
          "required": false
        },
        {
          "dependsOnId": "",
          "dependsOnValue": "",
          "description": "",
          "id": "parameters.enabled",
          "label": "enabled",
          "menu": "",
          "value": "true",
          "required": false
        },
        {
          "dependsOnId": "",
          "dependsOnValue": "",
          "description": "",
          "id": "parameters.memberships",
          "label": "memberships",
          "menu": "",
          "value": "[]",
          "required": false
        },
        {
          "dependsOnId": "",
          "dependsOnValue": "",
          "description": "",
          "id": "parameters.preferredLocale",
          "label": "preferredLocale",
          "menu": "",
          "value": "en",
          "required": false
        },
        {
          "dependsOnId": "",
          "dependsOnValue": "",
          "description": "",
          "id": "parameters.profileAttributesMap",
          "label": "profileAttributesMap",
          "menu": "",
          "value": "{}",
          "required": false
        },
        {
          "dependsOnId": "",
          "dependsOnValue": "",
          "description": "",
          "id": "parameters.spaceAdmin",
          "label": "spaceAdmin",
          "menu": "",
          "value": "<%=\n  space_admin = @values['Space Admin']\n  space_admin.nil? || space_admin.empty? ? false : space_admin.include?('true')\n%>",
          "required": false
        },
        {
          "dependsOnId": "",
          "dependsOnValue": "",
          "description": "",
          "id": "parameters.username",
          "label": "username",
          "menu": "",
          "value": "<%=\n  @values['User Username']\n%>",
          "required": false
        }
      ],
      "definitionId": "system_integration_v1"
    },
    {
      "configured": true,
      "defers": false,
      "deferrable": false,
      "visible": true,
      "name": "Complete",
      "messages": [],
      "dependents": "",
      "id": "utilities_echo_v1_2",
      "position": {
        "x": 200,
        "y": 143
      },
      "version": 1,
      "parameters": [
        {
          "dependsOnId": "",
          "dependsOnValue": "",
          "description": "",
          "id": "input",
          "label": "Input",
          "menu": "",
          "value": "<%=\n  error = @results['Create User']['Error']\n  statusCode = @results['Create User']['Status Code']\n  createdUser = @results['Create User']['User']\n\n  if error.to_s.empty? && statusCode == '200'\n    \"User '#{@values['User Username']}' created successfully\"\n  else\n    \"Error creating user: #{error}\"\n  end\n%>",
          "required": true
        }
      ],
      "definitionId": "utilities_echo_v1"
    }
  ]
}